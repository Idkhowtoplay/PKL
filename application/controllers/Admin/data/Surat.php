<?php

defined('BASEPATH') or exit('No direct script access allowed');

class Surat extends CI_Controller
{
    public function __construct()
    {
        parent::__construct();

        $this->load->model('m_layanan');
        $this->load->library('Pdf');
        $this->load->library('Qrcodes');        
    }

    public function domisili($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
        $pdf = new FPDF('P', 'mm', array(210, 330));
        $pdf->SetTitle('SURAT KETERANGAN DOMISILI ' . $surat['nama']);
        $pdf->AddPage();
        $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
        $pdf->SetFont('Arial', 'B', 14);
        $pdf->SetFont('');
        $pdf->Ln(3);
        $pdf->Cell(19);
        $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
        $pdf->Ln(4);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 16);
        $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
        $pdf->Ln(5);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', 'B', 18);
        $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
        $pdf->Ln(6);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 10);
        $pdf->SetFont('');
        $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
        $pdf->Cell(19);
        $pdf->Cell(180, 2, '', 0, 1, 'C');
        $pdf->Ln(2);
        $pdf->Cell(19);
        $pdf->Cell(185, 2, '', 0, 1, 'C');
        $pdf->SetFont('Arial', 'BU', 12);
        $pdf->Ln(8);
        $pdf->Cell(185, 2, 'SURAT KETERANGAN DOMISILI', 0, 1, 'C');
        $pdf->SetFont('Arial', '', 12);
        $pdf->Ln(3);
        $pdf->Cell(185, 2, 'Nomor:001/SK' . $surat['nosurat'] . ' KL-01/2024', 0, 1, 'C');
        $pdf->Ln(10);
        $pdf->Cell(12);
        $pdf->SetFont('Arial', '', 12);
        $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa :', 0, 'J', FALSE);
        $pdf->Ln(12);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['nama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['tempat_lahir'] . ', ' . date('d F Y', strtotime($penduduk['tanggal_lahir'])), 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Jenis Kelamin', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['jenis_kelamin'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Kewarganegaraan', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, 'WNI', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Agama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['agama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Status Perkawinan', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['status_perkawinan'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Pekerjaan ', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['nama_pekerjaan'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(150, 0, 'Alamat', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->MultiCell(100, 6, $penduduk['alamat_spesifik'], 0, 1);
        $pdf->Ln(8);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 7, 'Berdasarkan surat pengantar dari RT/RW setempat bahwa benar orang tersebut di atas penduduk Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut dan yang bersangkutan di atas saat ini berdomisili di alamat tersebut.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln(2);
        $pdf->Cell(12);
        $pdf->Cell(170, 7, 'Demikian surat ini dibuat untuk dapat dipergunakan sebagaimana mestinya.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln();
        $pdf->Ln(15);
        $pdf->Cell(115);
        $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
        $pdf->Ln();
        $pdf->Cell(115, 6, '', 0, 0, 'C');
        $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
        $pdf->Ln();
        $pdf->Ln(29);
        $pdf->SetFont('Arial', 'BU', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
        $pdf->Ln();
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        if ($surat['status'] == 3) {
            $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
            unlink($pngAbsoluteFilePath);
        }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function usaha($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
        $pdf = new FPDF('P', 'mm', array(210, 330));
        $pdf->SetTitle('SURAT KETERANGAN USAHA ' . $surat['nama']);
        $pdf->AddPage();
        $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
        $pdf->SetFont('Arial', 'B', 14);
        $pdf->SetFont('');
        $pdf->Ln(3);
        $pdf->Cell(19);
        $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
        $pdf->Ln(4);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 16);
        $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
        $pdf->Ln(5);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', 'B', 18);
        $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
        $pdf->Ln(6);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 10);
        $pdf->SetFont('');
        $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
        $pdf->Ln(2);
        $pdf->Cell(19);
        $pdf->Cell(180, 2, '', 0, 1, 'C');
        $pdf->Cell(19);
        $pdf->Cell(185, 2, '', 0, 1, 'C');
        $pdf->SetFont('Arial', 'BU', 12);
        $pdf->Ln(8);
        $pdf->Cell(185, 2, 'SURAT KETERANGAN USAHA', 0, 1, 'C');
        $pdf->SetFont('Arial', '', 12);
        $pdf->Ln(3);
        $pdf->Cell(185, 2, 'Nomor:001/SK' . $surat['nosurat'] . ' - KL-01/2024', 0, 1, 'C');
        $pdf->Ln(10);
        $pdf->Cell(12);
        $pdf->SetFont('Arial', '', 12);
        $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa :', 0, 'J', FALSE);
        $pdf->Ln(12);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['nama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Jenis Kelamin', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['jenis_kelamin'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['tempat_lahir'] . ', ' . date('d F Y', strtotime($penduduk['tanggal_lahir'])) , 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Kewarganegaraan', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, 'WNI', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Agama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['agama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Status Perkawinan', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['status_perkawinan'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Alamat', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->MultiCell(100, 6, $penduduk['alamat_spesifik'], 0, 'L');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 5, 'Adalah benar Orang tersebut diatas penduduk Kelurahan Pakuwon Kecamatan tarogong kidul Kabupaten Garut, dan benar Orang tersebut mempunyai usaha ' . $penduduk['nama_pekerjaan'], 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '');
        $pdf->SetFont('');
        $pdf->Ln();
        $pdf->Ln(2);
        $pdf->Cell(12);
        $pdf->Cell(100, 0, 'Surat keterangan ini diberikan untuk melengkapi persyaratan Administrasi.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln();
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 5, 'Demikian surat ini dibuat untuk dapat dipergunakan sebagaimana mestinya.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln();
        $pdf->Ln(7);
        $pdf->Cell(115);
        $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
        $pdf->Ln();
        $pdf->Cell(115, 6, '', 0, 0, 'C');
        $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
        $pdf->Ln();
        $pdf->Ln(29);
        $pdf->SetFont('Arial', 'BU', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
        $pdf->Ln();
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        if ($surat['status'] == 3) {
            $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
            unlink($pngAbsoluteFilePath);
        }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function skkb($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
        $pdf = new FPDF('P', 'mm', array(210, 330));
        $pdf->SetTitle('SURAT KETERANGAN KELAKUAN BAIK ' . $surat['nama']);
        $pdf->AddPage();
        $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
        $pdf->SetFont('Arial', 'B', 14);
        $pdf->SetFont('');
        $pdf->Ln(3);
        $pdf->Cell(19);
        $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
        $pdf->Ln(4);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 16);
        $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
        $pdf->Ln(5);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', 'B', 18);
        $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
        $pdf->Ln(6);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 10);
        $pdf->SetFont('');
        $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
        $pdf->Ln(2);
        $pdf->Cell(19);
        $pdf->Cell(180, 2, '', 0, 1, 'C');
        $pdf->Cell(19);
        $pdf->Cell(185, 2, '', 0, 1, 'C');
        $pdf->SetFont('Arial', 'BU', 12);
        $pdf->Ln(8);
        $pdf->Cell(185, 2, 'SURAT KETERANGAN KELAKUAN BAIK', 0, 1, 'C');
        $pdf->SetFont('Arial', '', 12);
        $pdf->Ln(3);
        $pdf->Cell(185, 2, 'Nomor:001/SK' . $surat['nosurat'] . ' - KL-01/2024', 0, 1, 'C');
        $pdf->Ln(10);
        $pdf->Cell(12);
        $pdf->SetFont('Arial', '', 12);
        $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa :', 0, 'J', FALSE);
        $pdf->Ln(12);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'NIK', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['nik'], 0, 'L');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['nama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Jenis Kelamin', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['jenis_kelamin'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['tempat_lahir'] . ', ' . date('d F Y', strtotime($penduduk['tanggal_lahir'])) , 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Kewarganegaraan', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, 'WNI', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Agama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['agama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Status Perkawinan', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['status_perkawinan'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Pekerjaan ', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['nama_pekerjaan'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Alamat', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->MultiCell(100, 6, $penduduk['alamat_spesifik'], 0, 'L');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 7, 'Adalah benar Penduduk Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dan benar Orang tersebut sampai saat ini berkelakuan baik serta tidak pernah atau sedang berurusan dengan pihak berwajib.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Cell(115, 6, '', 0, 0, 'J');
        $pdf->Ln(5);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Surat keterangan ini diberikan untuk melengkapi persyaratan Administrasi.', 0, 'J', FALSE);
        $pdf->Ln(5);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 7, 'Demikian surat ini dibuat untuk dapat dipergunakan sebagaimana mestinya.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln(7);
        $pdf->Cell(115);
        $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
        $pdf->Ln();
        $pdf->Cell(115, 6, '', 0, 0, 'C');
        $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
        $pdf->Ln();
        $pdf->Ln(29);
        $pdf->SetFont('Arial', 'BU', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
        $pdf->Ln();
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        if ($surat['status'] == 3) {
            $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
            unlink($pngAbsoluteFilePath);
        }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function sktm($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
        $pdf = new FPDF('P', 'mm', array(210, 330));
        $pdf->SetTitle('SURAT KETERANGAN TIDAK MAMPU ' . $surat['nama']);
        $pdf->AddPage();
        $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
        $pdf->SetFont('Arial', 'B', 14);
        $pdf->SetFont('');
        $pdf->Ln(3);
        $pdf->Cell(19);
        $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
        $pdf->Ln(4);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 16);
        $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
        $pdf->Ln(5);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', 'B', 18);
        $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
        $pdf->Ln(6);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 10);
        $pdf->SetFont('');
        $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
        $pdf->Ln(2);
        $pdf->Cell(19);
        $pdf->Cell(180, 2, '', 0, 1, 'C');
        $pdf->Cell(19);
        $pdf->Cell(185, 2, '', 0, 1, 'C');
        $pdf->SetFont('Arial', 'BU', 12);
        $pdf->Ln(8);
        $pdf->Cell(185, 2, 'SURAT KETERANGAN TIDAK MAMPU', 0, 1, 'C');
        $pdf->SetFont('Arial', '', 12);
        $pdf->Ln(3);
        $pdf->Cell(185, 2, 'Nomor:001/SK' . $surat['nosurat'] . ' KL-01/2024', 0, 1, 'C');
        $pdf->Ln(10);
        $pdf->Cell(12);
        $pdf->SetFont('Arial', '', 12);
        $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa :', 0, 'J', FALSE);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['nama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Jenis Kelamin', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['jenis_kelamin'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['tempat_lahir'] . ', ' . date('d F Y', strtotime($penduduk['tanggal_lahir'])) , 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Kewarganegaraan', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, 'WNI', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Agama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['agama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Status Perkawinan', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['status_perkawinan'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Pekerjaan ', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, $penduduk['nama_pekerjaan'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Alamat', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->MultiCell(100, 6, $penduduk['alamat_spesifik'], 0, 'L');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 7, 'Berdasarkan surat pengantar dari RT/RW setempat bahwa benar orang tersebut di atas penduduk Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut dan benar berasal dari Keluarga Tidak Mampu.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 7, 'Demikian surat ini dibuat untuk dapat dipergunakan sebagaimana mestinya.', 0, 'J', FALSE);
        $pdf->Ln(12);
        $pdf->Cell(115);
        $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
        $pdf->Ln();
        $pdf->Cell(115, 6, '', 0, 0, 'C');
        $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
        $pdf->Ln();
        $pdf->Ln(29);
        $pdf->SetFont('Arial', 'BU', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
        $pdf->Ln();
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        if ($surat['status'] == 3) {
            $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
            unlink($pngAbsoluteFilePath);
        }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function kelahiran($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
        $pdf = new FPDF('P', 'mm', array(210, 330));
        $pdf->Cell('SURAT KETERANGAN KELAHIRAN ' . $surat['nama']);
        $pdf->AddPage();
        $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
        $pdf->SetFont('Arial', 'B', 14);
        $pdf->Ln(3);
        $pdf->Cell(19);
        $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
        $pdf->Ln(4);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 16);
        $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
        $pdf->Ln(5);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', 'B', 18);
        $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
        $pdf->Ln(6);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 10);
        $pdf->SetFont('');
        $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
        $pdf->Ln(2);
        $pdf->Cell(19);
        $pdf->Cell(180, 2, '', 0, 1, 'C');
        $pdf->Cell(19);
        $pdf->Cell(185, 2, '', 0, 1, 'C');
        $pdf->SetFont('Arial', 'BU', 12);
        $pdf->Ln(8);
        $pdf->Cell(185, 2, 'SURAT KETERANGAN KELAHIRAN', 0, 1, 'C');
        $pdf->SetFont('Arial', '', 12);
        $pdf->Ln(3);
        $pdf->Cell(185, 2, 'Nomor:001/SK' . $surat['nosurat'] . ' KL-01/2024', 0, 1, 'C');
        $pdf->Ln(10);
        $pdf->Cell(12);
        $pdf->SetFont('Arial', '', 12);
        $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa :', 0, 'J', FALSE);
        $pdf->Ln(5);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Anak Ke', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, '...........................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama Lengkap', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, '...........................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, '...........................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Jenis Kelamin', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, '...........................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Agama', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, '...........................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama Ibu', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, '...........................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama Ayah', 0, 1);
        $pdf->Cell(60);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(62);
        $pdf->Cell(10, 0, '...........................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 7, 'Surat keterangan ini dibuat untuk keperluan pendaftaran Akta Kelahiran dan sebagai bukti sah atas kelahiran anak yang bersangkutan.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Demikian Surat ini dibuat untuk dapat dipergunakan sebagaimana mestinya', 0, 1);
        $pdf->Ln(12);
        $pdf->Cell(115);
        $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
        $pdf->Ln();
        $pdf->Cell(115, 6, '', 0, 0, 'C');
        $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
        $pdf->Ln();
        $pdf->Ln(29);
        $pdf->SetFont('Arial', 'BU', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
        $pdf->Ln();
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        if ($surat['status'] == 3) {
            $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
            unlink($pngAbsoluteFilePath);
        }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function kematian($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
        $pdf = new FPDF('P', 'mm', array(210, 330));
        $pdf->Cell('SURAT KETERANGAN KELAHIRAN ' . $surat['nama']);
        $pdf->AddPage();
        $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
        $pdf->SetFont('Arial', 'B', 14);
        $pdf->Ln(3);
        $pdf->Cell(19);
        $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
        $pdf->Ln(4);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 16);
        $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
        $pdf->Ln(5);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', 'B', 18);
        $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
        $pdf->Ln(6);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 10);
        $pdf->SetFont('');
        $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
        $pdf->Ln(2);
        $pdf->Cell(19);
        $pdf->Cell(180, 2, '', 0, 1, 'C');
        $pdf->Cell(19);
        $pdf->Cell(185, 2, '', 0, 1, 'C');
        $pdf->SetFont('Arial', 'BU', 12);
        $pdf->Ln(8);
        $pdf->Cell(185, 2, 'SURAT KETERANGAN KEMATIAN', 0, 1, 'C');
        $pdf->SetFont('Arial', '', 12);
        $pdf->Ln(3);
        $pdf->Cell(185, 2, 'Nomor:001/SK' . $surat['nosurat'] . ' KL-01/2024', 0, 1, 'C');
        $pdf->Ln(10);
        $pdf->Cell(12);
        $pdf->SetFont('Arial', '', 12);
        $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa :', 0, 'J', FALSE);
        $pdf->Ln(5);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, '...................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Jenis Kelamin', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, '...................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, '...................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Tempat/Tanggal Meninggal', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, '...................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Pukul', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, '...................................................................................', 0, 'L');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Agama', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, '...................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 7, 'Surat keterangan ini dibuat untuk keperluan pendaftaran Akta Kematian dan sebagai bukti sah atas kematian yang bersangkutan.', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Demikian Surat ini dibuat untuk dapat dipergunakan sebagaimana mestinya', 0, 1);
        $pdf->Ln(12);
        $pdf->Cell(115);
        $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
        $pdf->Ln();
        $pdf->Cell(115, 6, '', 0, 0, 'C');
        $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
        $pdf->Ln();
        $pdf->Ln(29);
        $pdf->SetFont('Arial', 'BU', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
        $pdf->Ln();
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        if ($surat['status'] == 3) {
            $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
            unlink($pngAbsoluteFilePath);
        }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function keramaian($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
    $pdf = new FPDF('P', 'mm', array(210, 330));
    $pdf->SetTitle('SURAT IZIN KERAMAIAN ' . $surat['nama']);
    $pdf->AddPage();
    $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
    $pdf->SetFont('Arial', 'B', 14);
    $pdf->Ln(3);
    $pdf->Cell(19);
    $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
    $pdf->Ln(4);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', '', 16);
    $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
    $pdf->Ln(5);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', 'B', 18);
    $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
    $pdf->Ln(6);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', '', 10);
    $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
    $pdf->Ln(2);
    $pdf->Cell(19);
    $pdf->Cell(180, 2, '', 0, 1, 'C');
    $pdf->Cell(19);
    $pdf->Cell(185, 2, '', 0, 1, 'C');
    $pdf->SetFont('Arial', 'BU', 12);
    $pdf->Ln(8);
    $pdf->Cell(185, 2, 'SURAT IZIN KERAMAIAN', 0, 1, 'C');
    $pdf->SetFont('Arial', '', 12);
    $pdf->Ln(3);
    $pdf->Cell(185, 2, 'Nomor: 001/ ' . $surat['nosurat'] . 'KL-01/2024', 0, 1, 'C');
    $pdf->Ln(10);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Berdasarkan permohonan yang diajukan oleh:', 0, 'J', FALSE);
    $pdf->Ln(5);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Nama', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['nama'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['tempat_lahir'] . ', ' . date('d F Y', strtotime($penduduk['tanggal_lahir'])) , 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Pekerjaan ', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['nama_pekerjaan'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Alamat', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->MultiCell(100, 6, $penduduk['alamat_spesifik'], 0, 'L');
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Dengan ini, kami dari Pemerintah Desa/Kelurahan Pakuwon, Kecamatan Garut, Kabupaten Garut, memberikan izin keramaian untuk kegiatan:', 0, 'J', FALSE);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Nama Acara', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, '...................................................................................', 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Jenis Acara', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, '...................................................................................', 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Hari/Tanggal', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, '...................................................................................', 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Waktu/Tempat', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, '...................................................................................', 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Demikian surat pernyataan ini dibuat untuk digunakan sebagaimana mestinya.', 0, 'J', FALSE);
    $pdf->Ln(12);
    $pdf->Cell(115);
    $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
    $pdf->Ln();
    $pdf->Cell(115, 6, '', 0, 0, 'C');
    $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
    $pdf->Ln();
    $pdf->Ln(29);
    $pdf->SetFont('Arial', 'BU', 12);
    $pdf->Cell(115, 5, '', 0, 0, 'C');
    $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
    $pdf->Ln();
    $pdf->SetFont('Arial', 'B', 12);
    $pdf->Cell(115, 5, '', 0, 0, 'C');
    $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
    if ($surat['status'] == 3) {
        $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
        unlink($pngAbsoluteFilePath);
    }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function pindah($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
        $pdf = new FPDF('P', 'mm', array(210, 330));
        $pdf->Cell('SURAT KETERANGAN MUTASI PINDAH ' . $surat['nama']);
        $pdf->AddPage();
        $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
        $pdf->SetFont('Arial', 'B', 14);
        $pdf->Ln(3);
        $pdf->Cell(19);
        $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
        $pdf->Ln(4);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 16);
        $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
        $pdf->Ln(5);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', 'B', 18);
        $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
        $pdf->Ln(6);
        $pdf->Cell(19);
        $pdf->SetFont('Arial', '', 10);
        $pdf->SetFont('');
        $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
        $pdf->Ln(2);
        $pdf->Cell(19);
        $pdf->Cell(180, 2, '', 0, 1, 'C');
        $pdf->Cell(19);
        $pdf->Cell(185, 2, '', 0, 1, 'C');
        $pdf->SetFont('Arial', 'BU', 12);
        $pdf->Ln(8);
        $pdf->Cell(185, 2, 'SURAT KETERANGAN MUTASI PINDAH', 0, 1, 'C');
        $pdf->SetFont('Arial', '', 12);
        $pdf->Ln(3);
        $pdf->Ln(10);
        $pdf->Cell(12);
        $pdf->SetFont('Arial', '', 12);
        $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa :', 0, 'J', FALSE);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Nama', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, $penduduk['nama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, $penduduk['tempat_lahir'] . ', ' . date('d F Y', strtotime($penduduk['tanggal_lahir'])) , 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(1, 0, 'Jenis Kelamin', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, $penduduk['jenis_kelamin'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Agama', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, $penduduk['agama'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Pekerjaan', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, $penduduk['nama_pekerjaan'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Alamat Lama', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, $penduduk['alamat_spesifik'], 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Alamat Baru', 0, 1);
        $pdf->Cell(80);
        $pdf->Cell(10, 0, ':', 0, 1);
        $pdf->Cell(82);
        $pdf->Cell(10, 0, '...................................................................................', 0, 1);
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->MultiCell(170, 7, 'Bahwa yang bersangkutan benar-benar telah pindah dari alamat lama ke alamat baru yang disebutkan di atas pada tanggal ..................................................................................', 0, 'J', FALSE);
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->SetFont('');
        $pdf->Ln(7);
        $pdf->Cell(12);
        $pdf->Cell(10, 0, 'Demikian Surat ini dibuat untuk dapat dipergunakan sebagaimana mestinya', 0, 1);
        $pdf->Ln(12);
        $pdf->Cell(115);
        $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
        $pdf->Ln();
        $pdf->Cell(115, 6, '', 0, 0, 'C');
        $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
        $pdf->Ln();
        $pdf->Ln(29);
        $pdf->SetFont('Arial', 'BU', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
        $pdf->Ln();
        $pdf->SetFont('Arial', 'B', '12');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
        $pdf->Cell(115, 5, '', 0, 0, 'C');
        if ($surat['status'] == 3) {
            $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
            unlink($pngAbsoluteFilePath);
        }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function datang($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
    $pdf = new FPDF('P', 'mm', array(210, 330));
    $pdf->SetTitle('SURAT KETERANGAN DATANG PENDUDUK ' . $surat['nama']);
    $pdf->AddPage();
    $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
    $pdf->SetFont('Arial', 'B', 14);
    $pdf->Ln(3);
    $pdf->Cell(19);
    $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
    $pdf->Ln(4);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', '', 16);
    $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
    $pdf->Ln(5);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', 'B', 18);
    $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
    $pdf->Ln(6);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', '', 10);
    $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
    $pdf->Cell(19);
    $pdf->Cell(180, 2, '', 0, 1, 'C');
    $pdf->Cell(19);
    $pdf->Cell(185, 2, '', 0, 1, 'C');
    $pdf->SetFont('Arial', 'BU', 12);
    $pdf->Ln(10);
    $pdf->Cell(185, 2, 'SURAT KETERANGAN DATANG PENDUDUK', 0, 1, 'C');
    $pdf->SetFont('Arial', '', 12);
    $pdf->Ln(7);
    $pdf->Cell(185, 2, 'Nomor:474/SK' . $surat['nosurat'] . '/09/2024', 0, 1, 'C');
    $pdf->Ln(10);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa:', 0, 'J', FALSE);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Nama', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['nama'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['tempat_lahir'] . ', ' . date('d F Y', strtotime($penduduk['tanggal_lahir'])) , 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Jenis Kelamin', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['jenis_kelamin'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Agama', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['agama'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Pekerjaan', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['nama_pekerjaan'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Alamat Asal', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(100, 0, $penduduk['alamat_spesifik'], 0, 'L');
    $pdf->Ln(4);
    $pdf->Cell(62);
    $pdf->Cell(100, 6, '...................................................................................', 0, 'L');
    $pdf->Ln(10);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Alamat Tujuan', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(100, 0, '...................................................................................', 0, 'L');
    $pdf->Ln(4);
    $pdf->Cell(62);
    $pdf->Cell(100, 6, '...................................................................................', 0, 'L');
    $pdf->Ln(10);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Bahwa yang bersangkutan telah datang dari alamat asal dan sekarang berdomisili di alamat tujuan dengan lampiran lengkap Kartu Keluarga yang datang.', 0, 'J', FALSE);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Demikian surat pernyataan ini dibuat untuk digunakan sebagaimana mestinya.', 0, 1,);
    $pdf->Ln(20);
    $pdf->Cell(115);
    $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
    $pdf->Ln();
    $pdf->Cell(115, 6, '', 0, 0, 'C');
    $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
    $pdf->Ln();
    $pdf->Ln(29);
    $pdf->SetFont('Arial', 'BU', 12);
    $pdf->Cell(115, 5, '', 0, 0, 'C');
    $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
    $pdf->Ln();
    $pdf->SetFont('Arial', 'B', 12);
    $pdf->Cell(115, 5, '', 0, 0, 'C');
    $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
    if ($surat['status'] == 3) {
        $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
        unlink($pngAbsoluteFilePath);
    }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }

    public function serbaguna($id)
    {
        $surat = $this->m_layanan->surat_get_id($id);
        $penduduk = $this->m_layanan->get_get_nik($surat['nik']);
        if ($surat['status'] == 3) {
            $link = "https://pakuwon.id/layanan/validsurat/" . md5($surat['id']);
            $fileName = 'qr_' . md5($surat['id']) . '.png';
            $pngAbsoluteFilePath = 'assets/img/qrimg/' . $fileName;
            $urlRelativeFilePath = $link . $fileName;
            if (!file_exists($pngAbsoluteFilePath)) {
                QRcode::png($link, $pngAbsoluteFilePath);
            }
        }
    $pdf = new FPDF('P', 'mm', array(210, 330));
    $pdf->SetTitle('SURAT KETERANGAN SERBAGUNA ' . $surat['nama']);
    $pdf->AddPage();
    $pdf->Image(base_url() . 'assets/img/kop.png', 12, 10, 185);
    $pdf->SetFont('Arial', 'B', 14);
    $pdf->Ln(3);
    $pdf->Cell(19);
    $pdf->Cell(185, 2, 'PEMERINTAH KABUPATEN GARUT', 0, 2, 'C');
    $pdf->Ln(4);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', '', 16);
    $pdf->Cell(185, 2, 'KECAMATAN TAROGONG KIDUL', 0, 1, 'C');
    $pdf->Ln(5);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', 'B', 18);
    $pdf->Cell(185, 2, 'KELURAHAN PAKUWON', 0, 1, 'C');
    $pdf->Ln(6);
    $pdf->Cell(19);
    $pdf->SetFont('Arial', '', 10);
    $pdf->Cell(185, 2, 'Jalan Mawar No.12 Kode Pos 44117', 0, 1, 'C');
    $pdf->Cell(19);
    $pdf->Cell(180, 2, '', 0, 1, 'C');
    $pdf->Cell(19);
    $pdf->Cell(185, 2, '', 0, 1, 'C');
    $pdf->SetFont('Arial', 'BU', 12);
    $pdf->Ln(10);
    $pdf->Cell(185, 2, 'SURAT KETERANGAN SERBAGUNA', 0, 1, 'C');
    $pdf->SetFont('Arial', '', 12);
    $pdf->Ln(3);
    $pdf->Cell(185, 2, 'Nomor: 001/' . $surat['nosurat'] . '/09/2024', 0, 1, 'C');
    $pdf->Ln(10);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Yang bertanda tangan di bawah ini Kepala Kelurahan Pakuwon Kecamatan Tarogong Kidul Kabupaten Garut, dengan ini menerangkan bahwa:', 0, 'J', FALSE);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Nama Pewaris', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['nama'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Tempat/Tanggal Lahir', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['tempat_lahir'] . ', ' . date('d F Y', strtotime($penduduk['tanggal_lahir'])) , 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Jenis Kelamin', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['jenis_kelamin'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Agama', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['agama'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Pekerjaan', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->Cell(10, 0, $penduduk['nama_pekerjaan'], 0, 1);
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->Cell(10, 0, 'Alamat', 0, 1);
    $pdf->Cell(60);
    $pdf->Cell(10, 0, ':', 0, 1);
    $pdf->Cell(62);
    $pdf->MultiCell(100, 6, $penduduk['alamat_spesifik'], 0, 'L');
    $pdf->Ln(7);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Adalah benar warga Desa/Kelurahan Pakuwon, Kecamatan Garut, Kabupaten Garut dan berdasarkan data serta informasi yang kami miliki, orang tersebut di atas dalam keadaan baik dan berkelakuan baik.', 0, 'J', FALSE);
    $pdf->Ln(2);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Surat keterangan ini dibuat untuk keperluan: .......................................................................', 0, 'J', FALSE);
    $pdf->Ln(2);
    $pdf->Cell(12);
    $pdf->MultiCell(170, 7, 'Demikian surat pernyataan ini dibuat untuk digunakan sebagaimana mestinya.', 0, 'J', FALSE);
    $pdf->Ln(12);
    $pdf->Cell(115);
    $pdf->Cell(10, 6, 'Garut, ' . date('d F Y'), 0, 0, 'L');
    $pdf->Ln();
    $pdf->Cell(115, 6, '', 0, 0, 'C');
    $pdf->Cell(10, 6, 'Kepala Kelurahan Pakuwon,', 0, 0, 'L');
    $pdf->Ln();
    $pdf->Ln(29);
    $pdf->SetFont('Arial', 'BU', 12);
    $pdf->Cell(115, 5, '', 0, 0, 'C');
    $pdf->Cell(10, 5, 'AGUS KUSNADI, SE.', 0, 0, 'L');
    $pdf->Ln();
    $pdf->SetFont('Arial', 'B', 12);
    $pdf->Cell(115, 5, '', 0, 0, 'C');
    $pdf->Cell(10, 5, 'NIP. 19780828 201001 1 019', 0, 0, 'L');
    if ($surat['status'] == 3) {
        $pdf->Image($pngAbsoluteFilePath, 124, 198, 30);
        unlink($pngAbsoluteFilePath);
    }
        $pdf->SetMargins(3, 3, 3);
        $pdf->Output();
    }
}